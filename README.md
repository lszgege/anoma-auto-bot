# Anoma 工具箱使用文档

## 简介

Anoma 工具箱是一个自动化工具，用于与 Anoma 测试网进行交互。它提供了以下主要功能：

1. 领取 fitcoin 代币
2. 购买抽奖券
3. 使用抽奖券进行抽奖
4. 自动执行完整流程（领取 → 购买 → 抽奖）

## 环境要求

- Python 3.6+
- 安装以下依赖包：
  - requests
  - json
  - time
  - math

可以通过以下命令安装依赖：

```bash
pip install requests
```

## 使用方法

### 1. 准备工作

首先确保你有有效的 Anoma 测试网账户和授权令牌（Bearer Token）。

### 2. 配置令牌

在脚本中找到以下代码行，将其中的令牌替换为你自己的令牌：

```python
token = "YOUR_TOKEN_HERE"
```

### 3. 运行脚本

```bash
python3 anoma.py
```

### 4. 功能选择

运行脚本后，会显示以下菜单：

```
Anoma工具箱
1. 使用现有抽奖券
2. 领取fitcoin
3. 购买抽奖券
4. 自动执行完整流程（领取fitcoin -> 购买抽奖券 -> 使用抽奖券）
0. 退出
```

根据需要输入相应的数字选择功能。

## 功能详解

### 1. 使用现有抽奖券

此功能会获取你账户中所有未使用的抽奖券，并使用它们进行抽奖。

操作步骤：
1. 选择菜单中的 `1`
2. 系统会自动检索未使用的抽奖券
3. 确认是否使用这些抽奖券（输入 `y` 确认）
4. 系统会自动使用这些抽奖券，并显示抽奖结果

### 2. 领取 fitcoin

此功能用于领取 fitcoin 代币，每次调用可获得 1 枚代币，最多可调用 2000 次。

操作步骤：
1. 选择菜单中的 `2`
2. 输入领取次数（1-2000）
3. 输入每次领取的间隔时间（秒）
4. 系统会自动执行领取操作，并显示当前拥有的 fitcoin 数量

> **注意**：间隔时间建议设置在 0.5-1 秒，太短可能导致请求被限制，太长则效率低下。

### 3. 购买抽奖券

此功能用于使用 fitcoin 购买抽奖券，每 50 枚 fitcoin 可购买 1 张抽奖券。

操作步骤：
1. 选择菜单中的 `3`
2. 输入要购买的抽奖券数量
3. 系统会自动执行购买操作，并显示结果

> **注意**：确保你有足够的 fitcoin 余额，否则购买会失败。

### 4. 自动执行完整流程

此功能会自动执行完整的流程：领取 fitcoin → 购买抽奖券 → 使用抽奖券。

操作步骤：
1. 选择菜单中的 `4`
2. 输入领取 fitcoin 的次数（1-2000）
3. 输入每次领取的间隔时间（秒）
4. 系统会自动执行完整流程，并显示每一步的结果

## 错误处理

- 如果领取 fitcoin 时遇到 `403 Forbidden` 错误，可能是因为请求频率过高或令牌已过期，请尝试降低请求频率或更新令牌。
- 如果购买抽奖券失败，请检查 fitcoin 余额是否足够。
- 如果使用抽奖券失败，可能是因为抽奖券已被使用或不存在，请重新获取未使用的抽奖券。

## 最佳实践

1. **令牌管理**：定期更新令牌，避免使用过期令牌。
2. **请求频率**：建议将领取 fitcoin 的间隔时间设置为 0.5-1 秒，避免请求被限制。
3. **批量操作**：如果需要大量领取 fitcoin，建议分批进行，每批 100-200 次，避免长时间运行导致连接中断。
4. **错误处理**：如果遇到错误，请查看错误信息并根据提示进行处理。

## 常见问题

### Q: 为什么我的 fitcoin 领取请求总是返回 403 错误？
A: 可能是因为请求频率过高或令牌已过期。尝试增加请求间隔时间或更新令牌。

### Q: 我有足够的 fitcoin，为什么购买抽奖券失败？
A: 可能是因为令牌权限不足或服务器问题。确认你的令牌有购买权限，并尝试稍后再试。

### Q: 如何获取新的令牌？
A: 登录 Anoma 测试网站，从浏览器开发者工具的网络请求中获取授权令牌。

## 注意事项

- 此脚本仅用于 Anoma 测试网，不适用于主网。
- 请合理使用此工具，避免频繁请求导致账户被限制。
- 定期更新令牌，确保工具正常运行。 
